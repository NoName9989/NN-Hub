-- Nếu GUI đã tồn tại thì xoá
if game.CoreGui:FindFirstChild("NNHubGlassUI") then
	game.CoreGui.NNHubGlassUI:Destroy()
end

-- NN Hub Glass UI - With Confirmation Box
local UserInputService = game:GetService("UserInputService")

local OpenKey = Enum.KeyCode.RightShift
local visible = true

-- GUI Base
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "NNHubGlassUI"
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.Size = UDim2.new(0, 420, 0, 300)
MainFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
MainFrame.BackgroundTransparency = 0.25
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true

local defaultPos = MainFrame.Position

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- Semi-transparent Glass Layer
local GlassLayer = Instance.new("Frame")
GlassLayer.Parent = MainFrame
GlassLayer.Size = UDim2.new(1, 0, 1, 0)
GlassLayer.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GlassLayer.BackgroundTransparency = 0.85
GlassLayer.BorderSizePixel = 0
GlassLayer.ZIndex = 0

local UICornerGlass = Instance.new("UICorner", GlassLayer)
UICornerGlass.CornerRadius = UDim.new(0, 12)

-- Title
local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.Size = UDim2.new(1, -80, 0, 40)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "NN Hub - by NoName AKA"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 22
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextXAlignment = Enum.TextXAlignment.Left

-- Minimize Button
local MinBtn = Instance.new("TextButton")
MinBtn.Parent = MainFrame
MinBtn.Size = UDim2.new(0, 30, 0, 30)
MinBtn.Position = UDim2.new(1, -70, 0, 7)
MinBtn.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
MinBtn.Text = "◻"
MinBtn.TextColor3 = Color3.fromRGB(50, 50, 50)
MinBtn.Font = Enum.Font.Gotham
MinBtn.TextSize = 16
local UICornerMin = Instance.new("UICorner", MinBtn)
UICornerMin.CornerRadius = UDim.new(0, 6)

-- Close Button
local CloseBtn = Instance.new("TextButton")
CloseBtn.Parent = MainFrame
CloseBtn.Size = UDim2.new(0, 30, 0, 30)
CloseBtn.Position = UDim2.new(1, -35, 0, 7)
CloseBtn.BackgroundColor3 = Color3.fromRGB(255, 90, 90)
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 16
local UICornerClose = Instance.new("UICorner", CloseBtn)
UICornerClose.CornerRadius = UDim.new(0, 6)

-- Game Name
local GameName = Instance.new("TextLabel")
GameName.Parent = MainFrame
GameName.Size = UDim2.new(1, -10, 0, 18)
GameName.Position = UDim2.new(0, 0, 1, -20)
GameName.Text = "Anime Ranger X"
GameName.Font = Enum.Font.Gotham
GameName.TextSize = 13
GameName.TextColor3 = Color3.fromRGB(200, 200, 200)
GameName.TextXAlignment = Enum.TextXAlignment.Right
GameName.BackgroundTransparency = 1

-- ClickZone (icon hiển thị khi minimize)
local ClickZone = Instance.new("ImageButton")
ClickZone.Name = "ClickZone"
ClickZone.Parent = ScreenGui
ClickZone.Size = UDim2.new(0, 40, 0, 40)
ClickZone.Position = UDim2.new(0, 60, 0, 60)
ClickZone.BackgroundTransparency = 1
ClickZone.Image = "rbxassetid://128467874968339"
ClickZone.Visible = false
ClickZone.ZIndex = 1000
ClickZone.Active = true
ClickZone.Draggable = true

-- Minimize Logic
local isMinimized = false

local function minimize()
	isMinimized = true
	MainFrame.Visible = false
	ClickZone.Visible = true
end

local function maximize()
	isMinimized = false
	MainFrame.Visible = true
	ClickZone.Visible = false
	MainFrame.Position = defaultPos
end

MinBtn.MouseButton1Click:Connect(minimize)
ClickZone.MouseButton1Click:Connect(function()
	if isMinimized then
		maximize()
	end
end)

-- Confirmation Box
local ConfirmBox = Instance.new("Frame")
ConfirmBox.Parent = ScreenGui
ConfirmBox.Size = UDim2.new(0, 300, 0, 150)
ConfirmBox.Position = UDim2.new(0.5, -150, 0.5, -75)
ConfirmBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ConfirmBox.BackgroundTransparency = 0.6
ConfirmBox.Visible = false
ConfirmBox.ZIndex = 10
ConfirmBox.Active = true

local ConfirmTitle = Instance.new("TextLabel")
ConfirmTitle.Parent = ConfirmBox
ConfirmTitle.Size = UDim2.new(1, 0, 0, 50)
ConfirmTitle.Position = UDim2.new(0, 0, 0, 10)
ConfirmTitle.Text = "Bạn chắc chắn muốn tắt menu?"
ConfirmTitle.Font = Enum.Font.GothamBold
ConfirmTitle.TextSize = 18
ConfirmTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
ConfirmTitle.BackgroundTransparency = 1
ConfirmTitle.TextWrapped = true

local YesBtn = Instance.new("TextButton")
YesBtn.Parent = ConfirmBox
YesBtn.Size = UDim2.new(0, 120, 0, 40)
YesBtn.Position = UDim2.new(0, 25, 0, 90)
YesBtn.Text = "Có"
YesBtn.BackgroundColor3 = Color3.fromRGB(50, 200, 100)
YesBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
YesBtn.Font = Enum.Font.Gotham
YesBtn.TextSize = 16
Instance.new("UICorner", YesBtn)

local NoBtn = Instance.new("TextButton")
NoBtn.Parent = ConfirmBox
NoBtn.Size = UDim2.new(0, 120, 0, 40)
NoBtn.Position = UDim2.new(0, 155, 0, 90)
NoBtn.Text = "Không"
NoBtn.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
NoBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
NoBtn.Font = Enum.Font.Gotham
NoBtn.TextSize = 16
Instance.new("UICorner", NoBtn)

-- Hiện hộp xác nhận khi bấm X
CloseBtn.MouseButton1Click:Connect(function()
	ConfirmBox.Visible = true
end)

-- Nếu chọn Có
YesBtn.MouseButton1Click:Connect(function()
	MainFrame.Visible = false
	visible = false
	ConfirmBox.Visible = false
end)

-- Nếu chọn Không
NoBtn.MouseButton1Click:Connect(function()
	ConfirmBox.Visible = false
end)

-- Toggle bằng RightShift
UserInputService.InputBegan:Connect(function(input, gpe)
	if not gpe and input.KeyCode == OpenKey then
		visible = not visible
		MainFrame.Visible = visible
	end
end)

-- Fade-in
MainFrame.Visible = false
task.wait(0.4)
MainFrame.Visible = true
MainFrame.BackgroundTransparency = 1
for i = 1, 10 do
	MainFrame.BackgroundTransparency = 1 - (i * 0.075)
	task.wait(0.02)
end
MainFrame.BackgroundTransparency = 0.25

-- Main GUI Base
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui
ScreenGui.Name = "NNHubGUI"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.Size = UDim2.new(0, 600, 0, 400)
MainFrame.Position = UDim2.new(0.5, -300, 0.5, -200)
MainFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
MainFrame.BackgroundTransparency = 0.25
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
local UICorner = Instance.new("UICorner", MainFrame)
UICorner.CornerRadius = UDim.new(0, 12)

-- Tab Area (on the left)
local TabArea = Instance.new("Frame")
TabArea.Parent = MainFrame
TabArea.Size = UDim2.new(0, 150, 1, 0)
TabArea.BackgroundColor3 = Color3.fromRGB(60, 60, 60)  -- Màu sắc khác biệt rõ rệt so với menu
TabArea.BorderSizePixel = 0

-- Scrolling Frame for Tabs
local TabScrollFrame = Instance.new("ScrollingFrame")
TabScrollFrame.Parent = TabArea
TabScrollFrame.Size = UDim2.new(1, 0, 1, 0)
TabScrollFrame.BackgroundTransparency = 1
TabScrollFrame.CanvasSize = UDim2.new(0, 0, 1, 0)
TabScrollFrame.ScrollBarThickness = 6

-- Add Tabs
local function createTab(name, position)
    local TabButton = Instance.new("TextButton")
    TabButton.Parent = TabScrollFrame
    TabButton.Size = UDim2.new(1, 0, 0, 40)
    TabButton.Position = position
    TabButton.Text = name
    TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    TabButton.Font = Enum.Font.Gotham
    TabButton.TextSize = 18
    TabButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)  -- Màu nền của từng tab
    TabButton.BorderSizePixel = 0
    local UICornerTab = Instance.new("UICorner", TabButton)
    UICornerTab.CornerRadius = UDim.new(0, 6)
    return TabButton
end

-- Create tabs
local tab1 = createTab("Server Stats", UDim2.new(0, 0, 0, 10))
local tab2 = createTab("Settings", UDim2.new(0, 0, 0, 50))

-- Content Area (on the right)
local ContentArea = Instance.new("Frame")
ContentArea.Parent = MainFrame
ContentArea.Size = UDim2.new(1, -150, 1, 0)
ContentArea.Position = UDim2.new(0, 150, 0, 0)
ContentArea.BackgroundColor3 = Color3.fromRGB(40, 40, 40)  -- Màu nền menu sáng hơn
ContentArea.BackgroundTransparency = 0.3
ContentArea.BorderSizePixel = 0

-- Scrolling Frame for Content
local ContentScrollFrame = Instance.new("ScrollingFrame")
ContentScrollFrame.Parent = ContentArea
ContentScrollFrame.Size = UDim2.new(1, 0, 1, 0)
ContentScrollFrame.BackgroundTransparency = 1
ContentScrollFrame.CanvasSize = UDim2.new(0, 0, 2, 0)  -- Set the content scroll area to be larger for testing
ContentScrollFrame.ScrollBarThickness = 6

-- Add content for "Server Stats" tab
local serverStatsFrame = Instance.new("Frame")
serverStatsFrame.Parent = ContentScrollFrame
serverStatsFrame.Size = UDim2.new(1, 0, 0, 500)
serverStatsFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
serverStatsFrame.BackgroundTransparency = 0.5

local StatsTitle = Instance.new("TextLabel")
StatsTitle.Parent = serverStatsFrame
StatsTitle.Size = UDim2.new(1, 0, 0, 40)
StatsTitle.Text = "Server Stats"
StatsTitle.Font = Enum.Font.GothamBold
StatsTitle.TextSize = 24
StatsTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
StatsTitle.BackgroundTransparency = 1

-- Add server stats elements
local statsText = Instance.new("TextLabel")
statsText.Parent = serverStatsFrame
statsText.Size = UDim2.new(1, 0, 0, 40)
statsText.Position = UDim2.new(0, 0, 0, 50)
statsText.Text = "Like and Subscribe to NoNameAKA on Youtube and TikTok!"
statsText.Font = Enum.Font.Gotham
statsText.TextSize = 18
statsText.TextColor3 = Color3.fromRGB(200, 200, 200)
statsText.BackgroundTransparency = 1

-- More stats (FPS, Time, Player Count, etc.)
local fpsText = Instance.new("TextLabel")
fpsText.Parent = serverStatsFrame
fpsText.Size = UDim2.new(1, 0, 0, 40)
fpsText.Position = UDim2.new(0, 0, 0, 100)
fpsText.Text = "FPS: 60"
fpsText.Font = Enum.Font.Gotham
fpsText.TextSize = 18
fpsText.TextColor3 = Color3.fromRGB(200, 200, 200)
fpsText.BackgroundTransparency = 1

local timeText = Instance.new("TextLabel")
timeText.Parent = serverStatsFrame
timeText.Size = UDim2.new(1, 0, 0, 40)
timeText.Position = UDim2.new(0, 0, 0, 150)
timeText.Text = "Server Time: 12:00 PM"
timeText.Font = Enum.Font.Gotham
timeText.TextSize = 18
timeText.TextColor3 = Color3.fromRGB(200, 200, 200)
timeText.BackgroundTransparency = 1

local playerCountText = Instance.new("TextLabel")
playerCountText.Parent = serverStatsFrame
playerCountText.Size = UDim2.new(1, 0, 0, 40)
playerCountText.Position = UDim2.new(0, 0, 0, 200)
playerCountText.Text = "Players Online: 30"
playerCountText.Font = Enum.Font.Gotham
playerCountText.TextSize = 18
playerCountText.TextColor3 = Color3.fromRGB(200, 200, 200)
playerCountText.BackgroundTransparency = 1

-- Handle tab switching
tab1.MouseButton1Click:Connect(function()
    serverStatsFrame.Visible = true
end)

tab2.MouseButton1Click:Connect(function()
    serverStatsFrame.Visible = false
end)

-- Show Server Stats by default
serverStatsFrame.Visible = true
